{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as SecureStore from \"expo-secure-store\";\nimport jwtDecode from \"jwt-decode\";\nvar key = \"authToken\";\n\nvar storeToken = function storeToken(authToken) {\n  return _regeneratorRuntime.async(function storeToken$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(SecureStore.setItemAsync(key, authToken));\n\n        case 3:\n          _context.next = 8;\n          break;\n\n        case 5:\n          _context.prev = 5;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(\"Error storing the auth token\", _context.t0);\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n};\n\nvar getToken = function getToken() {\n  return _regeneratorRuntime.async(function getToken$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(SecureStore.getItemAsync(key));\n\n        case 3:\n          return _context2.abrupt(\"return\", _context2.sent);\n\n        case 6:\n          _context2.prev = 6;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.log(\"Error getting the auth token\", _context2.t0);\n\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 6]], Promise);\n};\n\nvar getUser = function getUser() {\n  var token;\n  return _regeneratorRuntime.async(function getUser$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return _regeneratorRuntime.awrap(getToken());\n\n        case 2:\n          token = _context3.sent;\n          return _context3.abrupt(\"return\", token ? jwtDecode(token) : null);\n\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nvar removeToken = function removeToken() {\n  return _regeneratorRuntime.async(function removeToken$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return _regeneratorRuntime.awrap(SecureStore.deleteItemAsync(key));\n\n        case 3:\n          _context4.next = 8;\n          break;\n\n        case 5:\n          _context4.prev = 5;\n          _context4.t0 = _context4[\"catch\"](0);\n          console.log(\"Error removing the auth token\", _context4.t0);\n\n        case 8:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n};\n\nexport default {\n  getToken: getToken,\n  getUser: getUser,\n  removeToken: removeToken,\n  storeToken: storeToken\n};","map":{"version":3,"sources":["C:/Users/Mansour/Desktop/OrientLine/app/app/auth/storage.js"],"names":["SecureStore","jwtDecode","key","storeToken","authToken","setItemAsync","console","log","getToken","getItemAsync","getUser","token","removeToken","deleteItemAsync"],"mappings":";AAAA,OAAO,KAAKA,WAAZ,MAA6B,mBAA7B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,IAAMC,GAAG,GAAG,WAAZ;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAOC,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEXJ,WAAW,CAACK,YAAZ,CAAyBH,GAAzB,EAA8BE,SAA9B,CAFW;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIjBE,UAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;;AAJiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB;;AAQA,IAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEFR,WAAW,CAACS,YAAZ,CAAyBP,GAAzB,CAFE;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIfI,UAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;;AAJe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;;AAQA,IAAMG,OAAO,GAAG,SAAVA,OAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACKF,QAAQ,EADb;;AAAA;AACTG,UAAAA,KADS;AAAA,4CAERA,KAAK,GAAGV,SAAS,CAACU,KAAD,CAAZ,GAAsB,IAFnB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;;AAKA,IAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEZZ,WAAW,CAACa,eAAZ,CAA4BX,GAA5B,CAFY;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIlBI,UAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;;AAJkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;;AAQA,eAAe;AAAEC,EAAAA,QAAQ,EAARA,QAAF;AAAYE,EAAAA,OAAO,EAAPA,OAAZ;AAAqBE,EAAAA,WAAW,EAAXA,WAArB;AAAkCT,EAAAA,UAAU,EAAVA;AAAlC,CAAf","sourcesContent":["import * as SecureStore from \"expo-secure-store\";\nimport jwtDecode from \"jwt-decode\";\n\nconst key = \"authToken\";\n\nconst storeToken = async (authToken) => {\n\ttry {\n\t\tawait SecureStore.setItemAsync(key, authToken);\n\t} catch (error) {\n\t\tconsole.log(\"Error storing the auth token\", error);\n\t}\n};\n\nconst getToken = async () => {\n\ttry {\n\t\treturn await SecureStore.getItemAsync(key);\n\t} catch (error) {\n\t\tconsole.log(\"Error getting the auth token\", error);\n\t}\n};\n\nconst getUser = async () => {\n\tconst token = await getToken();\n\treturn token ? jwtDecode(token) : null;\n};\n\nconst removeToken = async () => {\n\ttry {\n\t\tawait SecureStore.deleteItemAsync(key);\n\t} catch (error) {\n\t\tconsole.log(\"Error removing the auth token\", error);\n\t}\n};\n\nexport default { getToken, getUser, removeToken, storeToken };\n"]},"metadata":{},"sourceType":"module"}