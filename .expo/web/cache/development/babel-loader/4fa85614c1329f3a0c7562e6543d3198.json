{"ast":null,"code":"import client from \"./client\";\nvar endpoint = \"/listings\";\n\nvar getListings = function getListings() {\n  return client.get(endpoint);\n};\n\nexport var addListing = function addListing(listing, _onUploadProgress) {\n  var data = new FormData();\n  data.append(\"title\", listing.title);\n  data.append(\"description\", listing.description);\n  listing.images.forEach(function (image, index) {\n    return data.append(\"images\", {\n      name: \"image\" + index,\n      type: \"image/jpeg\",\n      uri: image\n    });\n  });\n  if (listing.location) data.append(\"location\", JSON.stringify(listing.location));\n  return client.post(endpoint, data, {\n    onUploadProgress: function onUploadProgress(progress) {\n      return _onUploadProgress(progress.loaded / progress.total);\n    }\n  });\n};\nexport default {\n  addListing: addListing,\n  getListings: getListings\n};","map":{"version":3,"sources":["C:/Users/Mansour/Desktop/OrientLine/app/app/api/listings.js"],"names":["client","endpoint","getListings","get","addListing","listing","onUploadProgress","data","FormData","append","title","description","images","forEach","image","index","name","type","uri","location","JSON","stringify","post","progress","loaded","total"],"mappings":"AAAA,OAAOA,MAAP;AAEA,IAAMC,QAAQ,GAAG,WAAjB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAMF,MAAM,CAACG,GAAP,CAAWF,QAAX,CAAN;AAAA,CAApB;;AAEA,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAACC,OAAD,EAAUC,iBAAV,EAA+B;AACxD,MAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AAEAD,EAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqBJ,OAAO,CAACK,KAA7B;AAGAH,EAAAA,IAAI,CAACE,MAAL,CAAY,aAAZ,EAA2BJ,OAAO,CAACM,WAAnC;AAEAN,EAAAA,OAAO,CAACO,MAAR,CAAeC,OAAf,CAAuB,UAACC,KAAD,EAAQC,KAAR;AAAA,WACtBR,IAAI,CAACE,MAAL,CAAY,QAAZ,EAAsB;AACrBO,MAAAA,IAAI,EAAE,UAAUD,KADK;AAErBE,MAAAA,IAAI,EAAE,YAFe;AAGrBC,MAAAA,GAAG,EAAEJ;AAHgB,KAAtB,CADsB;AAAA,GAAvB;AAQA,MAAIT,OAAO,CAACc,QAAZ,EACCZ,IAAI,CAACE,MAAL,CAAY,UAAZ,EAAwBW,IAAI,CAACC,SAAL,CAAehB,OAAO,CAACc,QAAvB,CAAxB;AAED,SAAOnB,MAAM,CAACsB,IAAP,CAAYrB,QAAZ,EAAsBM,IAAtB,EAA4B;AAClCD,IAAAA,gBAAgB,EAAE,0BAACiB,QAAD;AAAA,aACjBjB,iBAAgB,CAACiB,QAAQ,CAACC,MAAT,GAAkBD,QAAQ,CAACE,KAA5B,CADC;AAAA;AADgB,GAA5B,CAAP;AAIA,CAvBM;AAyBP,eAAe;AACdrB,EAAAA,UAAU,EAAVA,UADc;AAEdF,EAAAA,WAAW,EAAXA;AAFc,CAAf","sourcesContent":["import client from \"./client\";\n\nconst endpoint = \"/listings\";\n\nconst getListings = () => client.get(endpoint);\n\nexport const addListing = (listing, onUploadProgress) => {\n\tconst data = new FormData();\n\n\tdata.append(\"title\", listing.title); \n\t//data.append(\"price\", listing.price);\n\t//data.append(\"categoryId\", listing.category.value);\n\tdata.append(\"description\", listing.description);\n\n\tlisting.images.forEach((image, index) => /* the same function to upload an image */\n\t\tdata.append(\"images\", {\n\t\t\tname: \"image\" + index,\n\t\t\ttype: \"image/jpeg\",\n\t\t\turi: image,\n\t\t})\n\t);\n\n\tif (listing.location)\n\t\tdata.append(\"location\", JSON.stringify(listing.location));\n\n\treturn client.post(endpoint, data, {\n\t\tonUploadProgress: (progress) =>\n\t\t\tonUploadProgress(progress.loaded / progress.total),\n\t});\n};\n\nexport default {\n\taddListing,\n\tgetListings,\n};\n"]},"metadata":{},"sourceType":"module"}